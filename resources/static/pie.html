<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link rel="stylesheet" href="../static/css/style.css">
</head>
<body>

<div class="pie">
    <svg width="285" height="285" class="pie-svg" onload="calculateXY(this)">
        <circle class="pie-1" r="111.5" cx="142.5" cy="142.5" stroke="#303840" stroke-dasharray="175 525"
                transform="rotate(0, 142.5,142.5)"></circle>
        <circle class="pie-1" r="111.5" cx="142.5" cy="142.5" stroke="#2A3139" stroke-dasharray="126 574"
                transform="rotate(90, 142.5,142.5)"></circle>
        <circle class="pie-1" r="111.5" cx="142.5" cy="142.5" stroke="#303840" stroke-dasharray="91 609"
                transform="rotate(154.8, 142.5,142.5)"></circle>
        <circle class="pie-1" r="111.5" cx="142.5" cy="142.5" stroke="#424D55" stroke-dasharray="252 448"
                transform="rotate(201.6, 142.5,142.5)"></circle>
        <circle class="pie-1" r="111.5" cx="142.5" cy="142.5" stroke="#2A3139" stroke-dasharray="56 644"
                transform="rotate(331.2, 142.5,142.5)"></circle>
        <text class="pie-text-percent" data-angle="0" fill="#ffffff" transform="rotate(90, 142.5,142.5)" >20</text>
    </svg>
</div>


<script>
    function calculateXY(svg) {
        var texts = svg.getElementsByTagName("text");
        console.log(texts.length);
        for (var i = 0; i < texts.length; i++) {
            var text = texts[i];
            var angle = text.getAttribute("data-angle");
            text.setAttribute('x', (111.5 * Math.cos(angle * 3.14/180) + 142.5).toFixed(1));
            text.setAttribute('y', (111.5 * Math.sin(angle * 3.14/180) + 142.5).toFixed(1));
        }
    }
</script>
</body>
</html>