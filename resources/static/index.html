<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>GitHub Profile Summary</title>
    <link rel="stylesheet" href="static/css/style.css">
</head>
<body>
<p class="index-title">GitHub Profile <span class="index-title-span">Summary</span></p>
<div id="userNameDiv" class="index-input-div">
    <input id='userNameInput' class="index-input" placeholder="Input your GitHub Username Like 'werbhelius'"
           onkeypress="checkName(event)"/>
</div>
<p class="index-find-me">Find me on&nbsp;&nbsp;&nbsp;
    <a target="_blank" href="http://github.com/werbhelius"><img src="static/css/svg/github.svg"></a> ,&nbsp;&nbsp;&nbsp;
    <a target="_blank" href="https://twitter.com/WerbHelius"><img src="static/css/svg/twitter.svg"></a> ,&nbsp;&nbsp;&nbsp;
    <a target="_blank" href="https://weibo.com/singerwannber"><img src="static/css/svg/weibo.svg"></a> ,&nbsp;&nbsp;&nbsp;
    <a target="_blank" href="https://www.instagram.com/i.am.werb/"><img
            src="static/css/svg/ins.svg"></a>&nbsp;&nbsp;<span class="index-title-span">and</span>&nbsp;&nbsp;
    <a target="_blank" href="mailto:werbhelius@gmail.com"><img src="static/css/svg/email.svg"></a> .</p>
<footer class="index-footer">
    <p class="index-footer-title">Licensed under the <a target="_blank"
                                                        href="https://github.com/werbhelius/github-profile"><span
            class="index-title-span">Apache 2 license</span></a></p>
    <p class="index-footer-title">Design & Develop <img src="static/css/svg/heart.svg"> by <a target="_blank"
                                                                                              href="https://about.me/werbhelius"><span
            class="index-title-span">werbhelius</span></a></p>
    <p class="index-footer-title">Source is on <a target="_blank"
                                                  href="https://github.com/werbhelius/github-profile"><span
            class="index-title-span">Github</span></a></p>
</footer>
<script>
    function checkName(e) {
        if (e.code !== "Enter") return;
        var input = document.getElementById("userNameInput");
        if (input.value === "") {
            input.classList.add("shake");
            setTimeout(function () {
                input.classList.remove("shake");
            }, 500);
        } else {
            requestName(input.value)
        }
    }

    function requestName(name) {
        var ajaxObj = new XMLHttpRequest();
        ajaxObj.open('get', '/api/user?username=' + name);
        ajaxObj.send();
        ajaxObj.onreadystatechange = function () {
            if (ajaxObj.readyState === 4 && ajaxObj.status >= 200 && ajaxObj.status < 400) {
                window.location = ajaxObj.responseText
            }
        }
    }
</script>
</body>
</html>